import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table";
import { format, parse, isValid } from "date-fns";

// async function sorgulamalariBaslat() {
//   const results = [];
//   const numbersArray = [
//     '99999637472',
// '99999386462',
// '99999316858',
// '99999277630',
// '99999267426',
// '99999160406',
// '99999083736',
// '99999075434',
// '99999067064',
// '99998967174',
// '99998844314',
// '99998687836',
// '99998523622',
// '99998514644',
// '99997488700',
// '99997461284',
// '99997236868',
// '99996818492',
// '99996805904',
// '99996783752',
// '99996582928',
// '99996481016',
// '99996476548',
// '99996440730',
// '99996275400',
// '99996223548',
// '99996195074',
// '99996186300',
// '99996109552',
// '99996089458',
// '99996085702',
// '99996067678',
// '99996048936',
// '99995953750',
// '99995818592',
// '99995549212',
// '99995478314',
// '99995477256',
// '99995468896',
// '99995402838',
// '99995340154',
// '99994311162',
// '99993810604',
// '99993801626',
// '99993588268',
// '99993502882',
// '99993437542',
// '99993432110',
// '99993405244',
// '99993388806',
// '99993387366',
// '99993355372',
// '99993331826',
// '99993181728',
// '99993145706',
// '99992986416',
// '99992719274',
// '99992598640',
// '99992533122',
// '99992491316',
// '99992382102',
// '99991268834',
// '99990895222',
// '99990829432',
// '99990814278',
// '99990762258',
// '99990673912',
// '99990652818',
// '99990639284',
// '99990629766',
// '99990558622',
// '99990470658',
// '99990449104',
// '99990408828',
// '99990381480',
// '99990340340',
// '99990333274',
// '99990240800',
// '99990142722',
// '99990136400',
// '99990128344',
// '99990112022',
// '99990106878',
// '99990091242',
// '99990089676',
// '99989961426',
// '99989743008',
// '99989058232',
// '99988843716',
// '99988795824',
// '99988589454',
// '99988505362',
// '99988288944',
// '99987699130',
// '99987618704',
// '99987560126',
// '99987305932',
// '99987292836',
// '99987244170',
// '99987171988',
// '99987147396',
// '99987080808',
// '99987076252',
// '99986931408',
// '99986888252',
// '99986826018',
// '99986380428',
// '99986378470',
// '99986152582',
// '99985322344',
// '99985233008',
// '99984645284',
// '99984627914',
// '99984562192',
// '99984448342',
// '99984381540',
// '99984328552',
// '99984220610',
// '99984172100',
// '99984137796',
// '99984121542',
// '99984108154',
// '99984086148',
// '99984080108',
// '99983821290',
// '99983603636',
// '99983459400',
// '99983414300',
// '99982442366',
// '99982341690',
// '99982235838',
// '99981804974',
// '99981565394',
// '99981277372',
// '99981230360',
// '99981196574',
// '99980691810',
// '99980540408',
// '99980436244',
// '99980256378',
// '99980060494',
// '99979452576',
// '99979438020',
// '99979366996',
// '99979283286',
// '99978904892',
// '99978863144',
// '99978613350',
// '99978579946',
// '99978503392',
// '99978489788',
// '99978451754',
// '99978448716',
// '99978440178',
// '99978391746',
// '99978343462',
// '99978289258',
// '99978198796',
// '99978195894',
// '99978116066',
// '99978106784',
// '99978091844',
// '99978087298',
// '99977970546',
// '99977891650',
// '99977881200',
// '99977607510',
// '99977548042',
// '99977519400',
// '99977410950',
// '99977301296',
// '99977155608',
// '99977110508',
// '99976508160',
// '99976473598',
// '99976346700',
// '99976335292',
// '99976271774',
// '99976238722',
// '99976236810',
// '99976054414',
// '99975943702',
// '99975769180',
// '99975579178',
// '99975467444',
// '99975423716',
// '99975421736',
// '99975336528',
// '99975278040',
// '99975270648',
// '99975245134',
// '99975211610',
// '99975085068',
// '99975070354',
// '99975068924',
// '99974988070',
// '99974832304',
// '99974709880',
// '99974516358',
// '99974468848',
// '99974463270',
// '99973505186',
// '99973360938',
// '99973315488',
// '99973293922',
// '99973293540',
// '99973270916',
// '99972978820',
// '99972907776',
// '99972598660',
// '99972470478',
// '99972411068',
// '99972368430',
// '99972253040',
// '99972248268',
// '99972230898',
// '99972134240',
// '99972118578',
// '99972114440',
// '99972097248',
// '99972096494',
// '99971950582',
// '99971946240',
// '99971843730',
// '99971575686',
// '99971454738',
// '99971048456',
// '99970825706',
// '99970798390',
// '99970287696',
// '99969984216',
// '99969773032',
// '99969701202',
// '99969667416',
// '99969607184',
// '99969562162',
// '99969539706',
// '99969525228',
// '99969491882',
// '99969428208',
// '99969364858',
// '99969335452',
// '99969269436',
// '99969226620',
// '99969224572',
// '99969223414',
// '99969202174',
// '99969193410',
// '99969173238',
// '99969125954',
// '99969094960',
// '99968932072',
// '99968718850',
// '99968568820',
// '99968559392',
// '99968504156',
// '99968438130',
// '99968429534',
// '99967818018',
// '99967506922',
// '99966937222',
// '99966857964',
// '99966774568',
// '99966754454',
// '99966701434',
// '99966643024',
// '99966510814',
// '99966432840',
// '99966394926',
// '99966341388',
// '99966305366',
// '99966263864',
// '99966257160',
// '99966179264',
// '99966108738',
// '99966072008',
// '99966061972',
// '99965788146',
// '99965749390',
// '99965739322',
// '99965467140',
// '99965071668',
// '99965064288',
// '99964475856',
// '99964374326',
// '99964370984',
// '99964290930',
// '99964237256',
// '99964012112',
// '99963893354',
// '99963798246',
// '99963766948',
// '99963636012',
// '99963473730',
// '99963467586',
// '99963428594',
// '99963328740',
// '99963308940',
// '99963273132',
// '99963160272',
// '99963086886',
// '99963027094',
// '99962943708',
// '99962643288',
// '99962578948',
// '99962469284',
// '99962448180',
// '99962151608',
// '99961479352',
// '99961475606',
// '99961442936',
// '99961366874',
// '99960812846',
// '99960753514',
// '99960613542',
// '99960586518',
// '99960550250',
// '99960549988',
// '99960506936',
// '99960400524',
// '99960381106',
// '99960373118',
// '99960357828',
// '99960312728',
// '99960290026',
// '99960285862',
// '99960248546',
// '99960225394',
// '99960223314',
// '99960150740',
// '99960093320',
// '99960054260',
// '99959516878',
// '99959502468',
// '99959493322',
// '99959406810',
// '99959071582',
// '99958325112',
// '99958316752',
// '99958291462',
// '99958010360',
// '99957678448',
// '99957484162',
// '99957442100',
// '99957426988',
// '99957377310',
// '99957289064',
// '99957234132',
// '99957185564',
// '99957155246',
// '99957119088',
// '99957104442',
// '99957049170',
// '99956975852',
// '99956567972',
// '99955425570',
// '99955342860',
// '99955153220',
// '99954852988',
// '99954810780',
// '99954511182',
// '99954491842',
// '99954471042',
// '99954442264',
// '99954425120',
// '99954341802',
// '99954110828',
// '99954103998',
// '99954071228',
// '99954060642',
// '99953947050',
// '99953588130',
// '99953577936',
// '99953560488',
// '99953530306',
// '99953515860',
// '99953313428',
// '99953157930',
// '99952502090',
// '99952322988',
// '99951962178',
// '99951793338',
// '99951694260',
// '99951662658',
// '99951654424',
// '99951503180',
// '99951471892',
// '99951467000',
// '99951432046',
// '99951406610',
// '99951391602',
// '99951308846',
// '99951308464',
// '99951290240',
// '99951216608',
// '99951196122',
// '99951194388',
// '99951189742',
// '99951185232',
// '99951165128',
// '99951156768',
// '99951102376',
// '99951082036',
// '99951055610',
// '99950689274',
// '99950606004',
// '99950532372',
// '99950457064',
// '99950437714',
// '99950395212',
// '99949825072',
// '99949439118',
// '99949256722',
// '99949255282',
// '99949005498',
// '99948812684',
// '99948692590',
// '99948654048',
// '99948447688',
// '99948432660',
// '99948418596',
// '99948405008',
// '99948346530',
// '99948308538',
// '99948253548',
// '99948174652',
// '99948169634',
// '99948154166',
// '99948124084',
// '99948097814',
// '99948087778',
// '99947829232',
// '99947046356',
// '99946296172',
// '99946254288',
// '99945822570',
// '99945799988',
// '99945756172',
// '99945623580',
// '99945541792',
// '99945468082',
// '99945456966',
// '99945423746',
// '99945349350',
// '99945294056',
// '99945112640',
// '99945111278',
// '99945106632',
// '99945095820',
// '99945092928',
// '99944976366',
// '99944964172',
// '99944935530',
// '99944923100',
// '99944922288',
// '99944693812',
// '99944661132',
// '99944512014',
// '99944430158',
// '99944410594',
// '99944183030',
// '99944154566',
// '99944072464',
// '99944055252',
// '99943498814',
// '99943442138',
// '99943342834',
// '99943267830',
// '99943229074',
// '99942979772',
// '99942756472',
// '99942717930',
// '99942651500',
// '99942509894',
// '99942501560',
// '99942485808',
// '99942481770',
// '99942366480',
// '99942339446',
// '99942303874',
// '99942278370',
// '99942224674',
// '99942204874',
// '99942169852',
// '99942139220',
// '99942135888',
// '99942134270',
// '99942128330',
// '99942082328',
// '99942035416',
// '99941656414',
// '99941455208',
// '99941063922',
// '99940491634',
// '99940441134',
// '99940297144',
// '99939810514',
// '99939715338',
// '99939481158',
// '99939473474',
// '99939361290',
// '99939322376',
// '99939307526',
// '99939301104',
// '99939254752',
// '99939188118',
// '99939111406',
// '99939109458',
// '99938973524',
// '99938970622',
// '99938669212',
// '99938578446',
// '99938576084',
// '99938568300',
// '99938053264',
// '99937469882',
// '99937354638',
// '99937352030',
// '99936940986',
// '99936830478',
// '99936578578',
// '99936467216',
// '99936452816',
// '99936430036',
// '99936408806',
// '99936384292',
// '99936381222',
// '99936327244',
// '99936252072',
// '99936245524',
// '99936226196',
// '99936225892',
// '99936197250',
// '99936151856',
// '99936083478',
// '99936068550',
// '99936011402',
// '99936005012',
// '99936004022',
// '99935891968',
// '99935611160',
// '99935349438',
// '99935145634',
// '99934503428',
// '99934492234',
// '99934320896',
// '99934315014',
// '99934292636',
// '99934249098',
// '99934057792',
// '99934016348',
// '99933730238',
// '99933728730',
// '99933659744',
// '99933659508',
// '99933642128',
// '99933611292',
// '99933549618',
// '99933530562',
// '99933430190',
// '99933428074',
// '99933425790',
// '99933332562',
// '99933323898',
// '99933303920',
// '99933301322',
// '99933295638',
// '99933156342',
// '99933142864',
// '99933088728',
// '99933084904',
// '99933068928',
// '99932648572',
// '99932470272',
// '99932080358',
// '99932070526',
// '99931352326',
// '99930609780',
// '99930593300',
// '99930500476',
// '99930485636',
// '99930476344',
// '99930363620',
// '99930338666',
// '99930336204',
// '99930335900',
// '99930300564',
// '99930268208',
// '99930219866',
// '99930218630',
// '99930209584',
// '99930082774',
// '99930074304',
// '99930065562',
// '99929602860',
// '99929048392',
// '99929047166',
// '99928466036',
// '99927811264',
// '99927655912',
// '99927475282',
// '99927431868',
// '99927419910',
// '99927379498',
// '99927369352',
// '99927366696',
// '99927334152',
// '99927312136',
// '99927305442',
// '99927303912',
// '99927233622',
// '99927118332',
// '99927088956',
// '99927054432',
// '99926645730',
// '99926318894',
// '99926150944',
// '99925436018',
// '99925328658',
// '99925258122',
// '99924785216',
// '99924601066',
// '99924576494',
// '99924451340',
// '99924379002',
// '99924374502',
// '99924323258',
// '99924301096',
// '99924283804',
// '99924274680',
// '99924241156',
// '99924190676',
// '99924164318',
// '99924162024',
// '99924075690',
// '99924022502',
// '99923535522',
// '99923047766',
// '99922798140',
// '99922462744',
// '99922222164',
// '99922213568',
// '99921947426',
// '99921667256',
// '99921643632',
// '99921592466',
// '99921573588',
// '99921453552',
// '99921453316',
// '99921412030',
// '99921283968',
// '99921233604',
// '99921227450',
// '99921196770',
// '99921160030',
// '99920711042',
// '99920696684',
// '99920408034',
// '99919516054',
// '99919465406',
// '99919343940',
// '99918791834',
// '99918520182',
// '99918502744',
// '99918349608',
// '99918299354',
// '99918273132',
// '99918194932',
// '99918075828',
// '99918069742',
// '99917946150',
// '99917885398',
// '99917861460',
// '99917766970',
// '99917464548',
// '99917414352',
// '99917053902',
// '99916802464',
// '99916366942',
// '99916275008',
// '99915788028',
// '99915770726',
// '99915643938',
// '99915468944',
// '99915461464',
// '99915288696',
// '99915178188',
// '99915143360',
// '99914975542',
// '99914974866',
// '99914718446',
// '99914455242',
// '99914440224',
// '99913371574',
// '99913315134',
// '99913298796',
// '99913014488',
// '99912541190',
// '99912533584',
// '99912482622',
// '99912427586',
// '99912370516',
// '99912342278',
// '99912300384',
// '99912294904',
// '99912288750',
// '99912262910',
// '99912213028',
// '99912163156',
// '99912134750',
// '99912104364',
// '99912072762',
// '99912048866',
// '99911802100',
// '99911687448',
// '99911584174',
// '99911439702',
// '99911424234',
// '99911385870',
// '99910406996',
// '99910302328',
// '99910124678',
// '99909750086',
// '99909731894',
// '99909486374',
// '99909484080',
// '99909437864',
// '99909402282',
// '99909364504',
// '99909251330',
// '99909210436',
// '99909196372',
// '99909138570',
// '99909082040',
// '99909048626',
// '99908977378',
// '99908972878',
// '99908949726',
// '99908823682',
// '99907507736',
// '99907253206',
// '99907155500',
// '99907014784',
// '99906530742',
// '99906503494',
// '99906369236',
// '99906275018',
// '99906273038',
// '99906234350',
// '99906229882',
// '99906153552',
// '99906119756',
// '99906044652',
// '99905889940',
// '99905875844',
// '99905767002',
// '99905676304',
// '99905643702',
// '99905107808',
// '99904458840',
// '99904383128',
// '99903750204',
// '99903673602',
// '99903462596',
// '99903454294',
// '99903395962',
// '99903346216',
// '99903323682',
// '99903274250',
// '99903251930',
// '99903247520',
// '99903236708',
// '99903236562',
// '99903220790',
// '99903119810',
// '99903093462',
// '99903091932',
// '99903088826',
// '99903083630',
// '99902958090',
// '99902943218',
// '99902911774',
// '99902867156',
// '99902817656',
// '99902568480',
// '99901633820',
// '99900824090',
// '99900696604',
// '99900619092',
// '99900582136',
// '99900579570',
// '99900510542',
// '99900495320',
// '99900473540',
// '99900461806',
// '99900352074',
// '99900341016',
// '99900305544',
// '99900238910',
// '99900147694',
// '99900133802',
// '99900119974',
// '99900102662',
// '99900083794',
// '99900071982',
// '99900042890',
// '99900042654',
// '99900024148',
// '99899911634',
// '99898846630',
// '99898012332',
// '99897670724',
// '99897372802',
// '99897306708',
// '99897290632',
// '99897250728',
// '99897239860',
// '99897178558',
// '99897119384',
// '99897106032',
// '99896730764',
// '99896472688',
// '99896146596',
// '99895490058',
// '99895459222',
// '99895257644',
// '99894883042',
// '99894784806',
// '99894690510',
// '99894667840',
// '99894401970',
// '99894390304',
// '99894383160',
// '99894312252',
// '99894250882',
// '99894229338',
// '99894168026',
// '99894128426',
// '99894104284',
// '99894101696',
// '99893879664',
// '99893878506',
// '99893874614',
// '99893771968',
// '99893694670',
// '99893585084',
// '99893552000',
// '99893051992',
// '99892505052',
// '99892483428',
// '99892365922',
// '99892342466',
// '99891814346',
// '99891789460',
// '99891749006',
// '99891727226',
// '99891689920',
// '99891430812',
// '99891379128',
// '99891311876',
// '99891232676',
// '99891184784',
// '99891154534',
// '99891128580',
// '99891122236',
// '99891105338',
// '99891091938',
// '99891089812',
// '99891053004',
// '99890981452',
// '99890765328',
// '99890510102',
// '99890323238',
// '99889328534',
// '99889327230',
// '99889291432',
// '99889090462',
// '99888960872',
// '99888702168',
// '99888603540',
// '99888504786',
// '99888482916',
// '99888392758',
// '99888339524',
// '99888303266',
// '99888236946',
// '99888194376',
// '99888171742',
// '99888099886',
// '99887878734',
// '99887852062',
// '99887757336',
// '99887715060',
// '99887691524',
// '99887685448',
// '99887292554',
// '99886470922',
// '99885999400',
// '99885743430',
// '99885715956',
// '99885630402',
// '99885514368',
// '99885487402',
// '99885454596',
// '99885438824',
// '99885408988',
// '99885187814',
// '99885173404',
// '99885086070',
// '99885059890',
// '99884985404',
// '99884778808',
// '99884534268',
// '99884364124',
// '99883822762',
// '99883380378',
// '99883323948',
// '99883244434',
// '99883190298',
// '99882963824',
// '99882902670',
// '99882804424',
// '99882801522',
// '99882781664',
// '99882764902',
// '99882567060',
// '99882527460',
// '99882489096',
// '99882268462',
// '99882210942',
// '99882140652',
// '99882115520',
// '99882089968',
// '99881895232',
// '99881859388',
// '99881642164',
// '99881467170',
// '99880513632',
// '99880244420',
// '99879838494',
// '99879659754',
// '99879655244',
// '99879479710',
// '99879456186',
// '99879451990',
// '99879382690',
// '99879344070',
// '99879341314',
// '99879245834',
// '99879225102',
// '99879211006',
// '99879181316',
// '99879138778',
// '99879121466',
// '99879084464',
// '99879079828',
// '99879035404',
// '99878969724',
// '99878784662',
// '99878541012',
// '99878515440',
// '99878436004',
// '99878052266',
// '99877557502',
// '99877366364',
// '99877224480',
// '99876816846',
// '99876682274',
// '99876442380',
// '99876386196',
// '99876264012',
// '99876232714',
// '99876162660',
// '99876127010',
// '99876113778',
// '99876083774',
// '99876080490',
// '99876079296',
// '99875881746',
// '99875587648',
// '99875479356',
// '99874503342',
// '99874315792',
// '99874207714',
// '99873961372',
// '99873615930',
// '99873577016',
// '99873490100',
// '99873489388',
// '99873486172',
// '99873472458',
// '99873436986',
// '99873404824',
// '99873312068',
// '99873271860',
// '99873242600',
// '99873185730',
// '99873145444',
// '99873133946',
// '99873097002',

//   ];

//   for (const number of numbersArray) {
//     try {
//       const response = await fetch(
//         `https://eizin.csgb.gov.tr/api/async/kisiBilgiStatuSorgula?tckNo=${number}`,
//         {
//           method: "GET",

//           headers: {
//             "Content-Type": "application/json",
//             Authorization: "Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtdXJhdC5oYXlhbG9nbHUiLCJleHAiOjE3NTcwNzYwNDgsInVzZXIiOnsiaWQiOjU3MTQwMSwidXNlcm5hbWUiOiJtdXJhdC5oYXlhbG9nbHUiLCJwYXNzd29yZCI6bnVsbCwic2VsZWN0ZWRTa3kiOm51bGwsImF1dGhvcml0aWVzIjpbeyJhdXRob3JpdHkiOiJST0xFX1BUVF9TRVJWSUNFIn0seyJhdXRob3JpdHkiOiJST0xFX1RFS05JS19ERVNURUsifSx7ImF1dGhvcml0eSI6IlJPTEVfVEFLSVBfTElTVF9ZT05FVElNIn0seyJhdXRob3JpdHkiOiJST0xFX01FVlpVQVQifSx7ImF1dGhvcml0eSI6IlJPTEVfVFVSS1VBWl9VWk1BTiJ9XSwidGNrTm8iOm51bGwsImZpcnN0TmFtZSI6bnVsbCwibGFzdE5hbWUiOm51bGwsImVtYWlsIjpudWxsLCJlbWFpbFZlcmlmaWVkIjpmYWxzZSwicGhvbmVOdW1iZXIiOm51bGwsInBob25lTnVtYmVyVmVyaWZpZWQiOmZhbHNlLCJlbmFibGVkIjp0cnVlLCJhY2NvdW50Tm9uRXhwaXJlZCI6dHJ1ZSwiYWNjb3VudE5vbkxvY2tlZCI6dHJ1ZSwiY3JlZGVudGlhbHNOb25FeHBpcmVkIjp0cnVlLCJsZGFwTG9naW5FbmFibGVkIjpmYWxzZSwicGFzc3dvcmRMb2dpbkVuYWJsZWQiOmZhbHNlLCJlZGV2bGV0TG9naW5FbmFibGVkIjpmYWxzZSwiY3JlYXRpb25EYXRlIjpudWxsLCJsYXN0TG9naW5EYXRlIjpudWxsLCJ1c2VyUm9sZXMiOm51bGwsInVzZXJQcml2aWxlZ2VzIjpudWxsLCJhdHRyaWJ1dGVzIjpudWxsfSwiaXNzIjoiZWl6aW4uaWMtc2VydmljZSJ9.0rst_9BvpKq-8hNhlz1TAlwrnlQfdHWIYGHTDpaempA",
//           },

//         }
//       );

//       const data = await response.json();
//       results.push([number, data]);
//     } catch (error) {
//       results.push([number, { error: true, message: error.message }]);
//     }
//   }

//   return results;
// }

async function sorgulamalariBaslat() {
  const numbersArray = [
    '99873087348',
'99873084996',
'99873079046',
'99872657160',
'99872553110',
'99872511462',
'99872366864',
'99872290466',
'99871818326',
'99871467708',
'99871332686',
'99870979806',
'99870935864',
'99870834266',
'99870781492',
'99870714926',
'99870606634',
'99870553624',
'99870391578',
'99870350292',
'99870282432',
'99870224494',
'99870218554',
'99870139804',
'99870082148',
'99869695304',
'99869519242',
'99868822978',
'99868445238',
'99867881556',
'99867849280',
'99867665354',
'99867649132',
'99867639300',
'99867626508',
'99867605640',
'99867590496',
'99867529106',
'99867498044',
'99867492004',
'99867389458',
'99867276598',
'99867271920',
'99867241848',
'99867192584',
'99867178656',
'99867167766',
'99867126626',
'99867071490',
'99866985842',
'99866963758',
'99866951014',
'99866946164',
'99866846556',
'99866832382',
'99866582126',
'99866522412',
'99866262660',
'99866056740',
'99866055064',
'99865502330',
'99865479120',
'99865451096',
'99865436178',
'99864741884',
'99864687366',
'99864679996',
'99864643256',
'99864581190',
'99864459420',
'99864451950',
'99864411282',
'99864366438',
'99864353872',
'99864329594',
'99864294922',
'99864286620',
'99864270162',
'99864235208',
'99864201852',
'99864194314',
'99864184346',
'99864112820',
'99864100636',
'99864095550',
'99864071554',
'99863902668',
'99863524242',
'99863460106',
'99862800798',
'99862504092',
'99861860366',
'99861583784',
'99861581018',
'99861535400',
'99861373118',
'99861303740',
'99861270530',
'99861254004',
'99861250044',
'99861131176',
'99861122266',
'99861031940',
'99860891156',
'99860808918',
'99860805016',
'99860572062',
'99860455556',
'99860264172',
'99859822406',
'99858781230',
'99858674242',
'99858572586',
'99858497964',
'99858480416',
'99858437632',
'99858416392',
'99858318214',
'99858274596',
'99858273124',
'99858220654',
'99858216480',
'99858192012',
'99858163852',
'99858113970',
'99858100864',
'99858092190',
'99858090974',
'99858085192',
'99857967628',
'99857824068',
'99857691172',
'99857594848',
'99857496838',
'99857438272',
'99857064884',
'99856359172',
'99856352760',
'99856293810',
'99855797920',
'99855605300',
'99855431756',
'99855426356',
'99855392774',
'99855339786',
'99855121404',
'99855103752',
'99855097754',
'99855081982',
'99855079620',
'99855042822',
'99854930366',
'99854523230',
'99853829654',
'99853800844',
'99853468440',
'99853442914',
'99853383200',
'99852957150',
'99852905816',
'99852800494',
'99852738438',
'99852640700',
'99852598780',
'99852517804',
'99852461060',
'99852455984',
'99852366402',
'99852342260',
'99852334890',
'99852203660',
'99852201444',
'99852138016',
'99852129342',
'99852123470',
'99852097818',
'99852090574',
'99852071900',
'99851956642',
'99851545860',
'99851515542',
'99851474658',
'99851471060',
'99851314404',
'99851073776',
'99850823150',
'99850685628',
'99850465602',
'99850439580',
'99850275690',
'99849927142',
'99849765164',
'99849557028',
'99849536306',
'99849479986',
'99849383306',
'99849216772',
'99849121632',
'99849114498',
'99849095452',
'99849087600',
'99849080816',
'99849078936',
'99849051342',
'99848727026',
'99848709824',
'99848672272',
'99848512400',
'99848431466',
'99848262794',
'99847327616',
'99847276754',
'99847240250',
'99847226704',
'99846830254',
'99846581224',
'99846476216',
'99846457642',
'99846446066',
'99846429854',
'99846418346',
'99846371894',
'99846365190',
'99846347998',
'99846307534',
'99846286686',
'99846246390',
'99846223384',
'99846216836',
'99846095370',
'99846080970',
'99845726954',
'99845384550',
'99844804950',
'99844319928',
'99843807402',
'99843700246',
'99843663244',
'99843656178',
'99843641600',
'99843612822',
'99843579712',
'99843471870',
'99843383838',
'99843306844',
'99843284692',
'99843130210',
'99843095434',
'99843085152',
'99843072978',
'99842975430',
'99842973832',
'99842836762',
'99842586742',
'99842433596',
'99842422224',
'99842032300',
'99841449468',
'99841339578',
'99841323010',
'99841300486',
'99841195488',
'99840960858',
'99840607418',
'99840553968',
'99840421816',
'99840416720',
'99840413514',
'99840386108',
'99840319946',
'99840294960',
'99840084844',
'99840081188',
'99839995618',
'99839814506',
'99839697550',
'99839671888',
'99839588728',
'99839527710',
'99839508696',
'99839475240',
'99838347708',
'99838318616',
'99837857130',
'99837821636',
'99837819510',
'99837781428',
'99837728430',
'99837627450',
'99837568050',
'99837517188',
'99837491112',
'99837425940',
'99837396172',
'99837328098',
'99837322744',
'99837305396',
'99837144926',
'99837094986',
'99837090926',
'99836900240',
'99836830028',
'99836822894',
'99836724952',
'99836540262',
'99836517738',
'99836353084',
'99835350114',
'99835274434',
'99835046666',
'99834847226',
'99834823220',
'99834800900',
'99834798962',
'99834785542',
'99834412448',
'99834350900',
'99834334306',
'99834270642',
'99834251764',
'99834222122',
'99834193668',
'99834177378',
'99834147296',
'99834136238',
'99834135484',
'99834132414',
'99834122132',
'99834072574',
'99833950804',
'99833909932',
'99833143336',
'99832291014',
'99831881704',
'99831674894',
'99831644576',
'99831568650',
'99831473060',
'99831435754',
'99831342458',
'99831318620',
'99831263180',
'99831234616',
'99831227540',
'99831124658',
'99831096702',
'99831095194',
'99830905340',
'99830701164',
'99830595794',
'99830595244',
'99830480922',
'99830461358',
'99830356340',
'99829510890',
'99829481718',
'99829447226',
'99829317536',
'99829315242',
'99829255234',
'99829220416',
'99828617910',
'99828453648',
'99828299512',
'99828267528',
'99828187642',
'99828175076',
'99828156716',
'99827961618',
'99827428784',
'99827059964',
'99827056376',
'99825754076',
'99825719426',
'99825652624',
'99825610808',
'99825494392',
'99825479092',
'99825425600',
'99825396214',
'99825314898',
'99825276974',
'99825243136',
'99825155330',
'99824566526',
'99823824016',
'99823483220',
'99823453384',
'99823365724',
'99823242964',
'99822571430',
'99822484310',
'99822381046',
'99822377322',
'99822368108',
'99822365138',
'99822339870',
'99822324166',
'99822295916',
'99822264080',
'99822258454',
'99822131566',
'99822123578',
'99822094328',
'99822094250',
'99822085890',
'99822044200',
'99821797978',
'99821687606',
'99821463620',
'99821058192',
'99820863926',
'99820821728',
'99820821346',
'99820448116',
'99820379366',
'99820336246',
'99819761202',
'99819602734',
'99819534356',
'99819533502',
'99819504588',
'99819503284',
'99819482404',
'99819476250',
'99819407704',
'99819406578',
'99819310998',
'99819304430',
'99819295776',
'99819253646',
'99819247492',
'99819133542',
'99818951482',
'99818795994',
'99818728282',
'99818613274',
'99818484652',
'99818435906',
'99818415342',
'99817501336',
'99817473626',
'99817319962',
'99817250326',
'99817063452',
'99816896792',
'99816783214',
'99816711866',
'99816579206',
'99816536186',
'99816531440',
'99816531136',
'99816450574',
'99816387764',
'99816326510',
'99816311660',
'99816296066',
'99816291870',
'99816270394',
'99816168974',
'99816148310',
'99816124796',
'99816122716',
'99816101230',
'99816099056',
'99816019788',
'99815635118',
'99815408644',
'99815403076',
'99815300184',
'99815147734',
'99814017076',
'99814012330',
'99813796798',
'99813747042',
'99813481328',
'99813479448',
'99813460538',
'99813320498',
'99813263764',
'99813232838',
'99813226516',
'99813207492',
'99813176644',
'99813129282',
'99813119078',
'99813118842',
'99813018784',
'99812961050',
'99812836624',
'99812695740',
'99812659964',
'99812294486',
'99811334558',
'99811292988',
'99811198860',
'99810863486',
'99810723582',
'99810510182',
'99810461750',
'99810439384',
'99810396274',
'99810244940',
'99810214554',
'99810201684',
'99810189128',
'99810141294',
'99810127052',
'99810102448',
'99809800744',
'99809610428',
'99809545942',
'99809503812',
'99809476024',
'99808337760',
'99807871616',
'99807861570',
'99807768060',
'99807710090',
'99807682526',
'99807541632',
'99807473704',
'99807308228',
'99807296044',
'99807285840',
'99807262902',
'99807241112',
'99807168570',
'99807163452',
'99807099348',
'99807099102',
'99807096682',
'99807089516',
'99806881784',
'99806870894',
'99806630450',
'99806575492',
'99806486392',
'99805027718',
'99804826220',
'99804659910',
'99804640482',
'99804590688',
'99804487278',
'99804453068',
'99804421524',
'99804408068',
'99804375230',
'99804311320',
'99804307156',
'99804278524',
'99804263438',
'99804245236',
'99804213792',
'99804165350',
'99804136954',
'99804125132',
'99804093394',
'99804093158',
'99803901560',
'99803799464',
'99803775390',
'99803678998',
'99803486760',
'99803484308',
'99802436124',
'99802255190',
'99801843114',
'99801769346',
'99801600564',
'99801411610',
'99801409426',
'99801310708',
'99801283606',
'99801254828',
'99801125678',
'99801087068',
'99801074716',
'99801065738',
'99801060542',
'99800874386',
'99800660378',
'99800586500',
'99800566250',
'99800485384',
'99799416352',
'99799145856',
'99798902160',
'99798618580',
'99798567000',
'99798524362',
'99798098436',
'99798096524',
'99798093240',
'99797969072',
'99797955808',
'99797557514',
'99797537264',
'99797497124',
'99796439590',
'99795902156',
'99795822034',
'99795802920',
'99795774388',
'99795718498',
'99795431052',
'99795379378',
'99795352098',
'99795315086',
'99795307548',
'99795306930',
'99795206186',
'99795203352',
'99795187768',
'99795140206',
'99795136896',
'99795121496',
'99795119134',
'99795073740',
'99795006960',
'99794955894',
'99794902706',
'99794882152',
'99794867098',
'99794776918',
'99792997292',
'99792817934',
'99792794792',
'99792768502',
'99792720746',
'99792487724',
'99792468600',
'99792328492',
'99792285146',
'99792268170',
'99792246154',
'99792233666',
'99792225814',
'99792220178',
'99792215778',
'99792210278',
'99792168708',
'99792160610',
'99792103044',
'99792060002',
'99792009094',
'99791901702',
'99791848656',
'99791158380',
'99791055184',
'99790372152',
'99789712754',
'99789533946',
'99789529772',
'99789503796',
'99789472870',
'99789461676',
'99789420222',
'99789369156',
'99789317508',
'99789265038',
'99789253226',
'99789235710',
'99789227654',
'99789191092',
'99789167332',
'99789158040',
'99789121860',
'99789103118',
'99788923892',
'99788736850',
'99788629558',
'99788602964',
'99788524686',
'99788508846',
'99788307944',
'99787863052',
'99787323952',
'99787315964',
'99787279198',
'99787266228',
'99786971208',
'99786942420',
'99786685198',
'99786669594',
'99786628140',
'99786469064',
'99786396186',
'99786348666',
'99786327562',
'99786288962',
'99786281178',
'99786204498',
'99786176924',
'99786125748',
'99786101988',
'99786100066',
'99786087060',
'99786084236',
'99786039786',
'99785982434',
'99785978192',
'99785974996',
'99784362176',
'99784342208',
'99784298062',
'99784297140',
'99784194944',
'99783946230',
'99783909600',
'99783891004',
'99783840828',
'99783684644',
'99783391818',
'99783266550',
'99783259248',
'99783250788',
'99783241328',
'99783223812',
'99783189194',
'99783133722',
'99783099240',
'99782975972',
'99782972384',
'99782779884',
'99782465336',
'99781357458',
'99781356840',
'99780627750',
'99780436826',
'99780425318',
'99780389306',
'99780368998',
'99780353734',
'99780338502',
'99780283062',
'99780239298',
'99780195266',
'99780132278',
'99780114694',
'99780090462',
'99780090080',
'99780007156',
'99779977262',
'99779913284',
'99779705520',
'99779526408',
'99779384916',
'99779346228',
'99778320274',
'99777986754',
'99777793840',
'99777769012',
'99777746624',
'99777536294',
'99777533910',
'99777532616',
'99777462012',
'99777416336',
'99777355710',
'99777345742',
'99777341850',
'99777316582',
'99777230048',
'99777214208',
'99777161366',
'99777143782',
'99777124422',
'99777090604',
'99777073492',
'99776974806',
'99776962094',
'99776947930',
'99776940764',
'99776738354',
'99776705684',
'99776503242',
'99776478298',
'99776445696',
'99776152242',
'99775515468',
'99775509696',
'99775325074',
'99774865342',
'99774635730',
'99774536280',
'99774529664',
'99774478634',
'99774473998',
'99774459824',
'99774458452',
'99774430250',
'99774379870',
'99774288318',
'99774252296',
'99774214362',
'99774155030',
'99774142306',
'99774133564',
'99774094032',
'99773896446',
'99773476068',
'99773401886',
'99772426286',
'99772228736',
'99771881482',
'99771842186',
'99771610808',
'99771369416',
'99771346400',
'99771342204',
'99771340088',
'99771315956',
'99771213740',
'99771125258',
'99771110780',
'99771103096',
'99771095636',
'99771009596',
'99770150930',
'99769459570',
'99769396738',
'99769372428',
'99769292474',
'99769257374',
'99769222006',
'99768882614',
'99768787988',
'99768777774',
'99768769304',
'99768678842',
'99768410442',
'99768401464',
'99768361188',
'99768352278',
'99768241848',
'99768171480',
'99768142398',
'99768136458',
'99768119550',
'99768032576',
'99767954220',
'99767831224',
'99767830784',
'99767786852',
'99767698056',
'99767040428',
'99766883804',
'99766507526',
'99766354458',
'99765935542',
'99765750008',
'99765687816',
'99765552794',
'99765410506',
'99765402068',
'99765383718',
'99765321192',
'99765311810',
'99765084110',
'99765017408',
'99764867400',
'99764803286',
'99764799336',
'99764495160',
'99764472772',
'99763803218',
'99763487586',
'99763449348',
'99763437840',
'99763342496',
'99763322078',
'99763277774',
'99762715680',
'99762656662',
'99762492840',
'99762489420',
'99762439098',
'99762425756',
'99762403662',
'99762363386',
'99762333136',
'99762234440',
'99762133606',
'99762129746',
'99762126530',
'99761466828',
'99761428826',
'99761074474',
'99760364712',
'99760080728',
'99759834004',
'99759809422',
'99759769696',
'99759750472',
'99759612176',
'99759575488',
'99759434426',
'99759428340',
'99759374272',
'99759288388',
'99759249150',
'99759215872',
'99759196522',
'99759087936',
'99758700140',
'99758438104',
'99757488872',
'99757470716',
'99757382774',
'99756769750',
'99756689324',
'99756656722',
'99756496410',
'99756421542',
'99756410898',
'99756409212',
'99756396116',
'99756358114',
'99756318378',
'99756255222',
'99756215318',
'99756212966',
'99756138884',
'99756078326',
'99755654392',
'99755362938',
'99754319636',
'99754301402',
'99753489330',
'99753358100',
'99753353396',
'99753335644',
'99753318432',
'99753271980',
'99753243260',
'99753231144',
'99753196504',
'99753182958',
'99753177558',
'99753161540',
'99753159288',
'99753158298',
'99753153248',
'99753144406',
'99753144024',
'99753133998',
'99753095692',
'99752998536',
'99752976374',
'99752858946',
'99752645232',
'99752569484',
'99752558112',
'99752471060',
'99752067386',
'99751833814',
'99751822788',
'99751308350',
'99750868732',
'99750723260',
'99750688316',
'99750681522',
'99750662576',
'99750594402',
'99750532190',
'99750268860',
'99750242334',
'99750196422',
'99750125996',
'99749650324',
'99749508922',
'99749491866',
'99749489122',
'99749404118',
'99749352648',
'99748370186',
'99748351680',
'99747587332',
'99747526638',
'99747479286',
'99747408682',
'99747380186',
'99747378824',
'99747359182',
'99747351612',
'99747288420',
'99747266268',
'99747218984',
'99747156446',
'99747143262',
'99747130224',
'99747091556',
'99747082950',
'99747076492',
'99747046556',
'99746981070',
'99746897548',
'99746893892',
'99746806076',

  ];

  // Tüm istekleri aynı anda başlat
  const promises = numbersArray.map(async (number) => {
    try {
      const response = await fetch(
        `https://eizin.csgb.gov.tr/api/async/kisiBilgiStatuSorgula?tckNo=${number}`,
        {
          method: "GET",

          headers: {
            "Content-Type": "application/json",
            Authorization:
              "Bearer Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtdXJhdC5oYXlhbG9nbHUiLCJleHAiOjE3NTcwODIwMjAsInVzZXIiOnsiaWQiOjU3MTQwMSwidXNlcm5hbWUiOiJtdXJhdC5oYXlhbG9nbHUiLCJwYXNzd29yZCI6bnVsbCwic2VsZWN0ZWRTa3kiOm51bGwsImF1dGhvcml0aWVzIjpbeyJhdXRob3JpdHkiOiJST0xFX1BUVF9TRVJWSUNFIn0seyJhdXRob3JpdHkiOiJST0xFX1RFS05JS19ERVNURUsifSx7ImF1dGhvcml0eSI6IlJPTEVfVEFLSVBfTElTVF9ZT05FVElNIn0seyJhdXRob3JpdHkiOiJST0xFX01FVlpVQVQifSx7ImF1dGhvcml0eSI6IlJPTEVfVFVSS1VBWl9VWk1BTiJ9XSwidGNrTm8iOm51bGwsImZpcnN0TmFtZSI6bnVsbCwibGFzdE5hbWUiOm51bGwsImVtYWlsIjpudWxsLCJlbWFpbFZlcmlmaWVkIjpmYWxzZSwicGhvbmVOdW1iZXIiOm51bGwsInBob25lTnVtYmVyVmVyaWZpZWQiOmZhbHNlLCJlbmFibGVkIjp0cnVlLCJhY2NvdW50Tm9uRXhwaXJlZCI6dHJ1ZSwiYWNjb3VudE5vbkxvY2tlZCI6dHJ1ZSwiY3JlZGVudGlhbHNOb25FeHBpcmVkIjp0cnVlLCJsZGFwTG9naW5FbmFibGVkIjpmYWxzZSwicGFzc3dvcmRMb2dpbkVuYWJsZWQiOmZhbHNlLCJlZGV2bGV0TG9naW5FbmFibGVkIjpmYWxzZSwiY3JlYXRpb25EYXRlIjpudWxsLCJsYXN0TG9naW5EYXRlIjpudWxsLCJ1c2VyUm9sZXMiOm51bGwsInVzZXJQcml2aWxlZ2VzIjpudWxsLCJhdHRyaWJ1dGVzIjpudWxsfSwiaXNzIjoiZWl6aW4uaWMtc2VydmljZSJ9.070DfT7vw64fdU_61b-EFgh8Ca3rSdvzt4BpwQh0EYo",
          },
        }
      );

      const data = await response.json();
      return [number, data];
    } catch (error) {
      return [number, { error: true, message: error.message }];
    }
  });

  // Tüm istekler tamamlanana kadar bekle
  const results = await Promise.all(promises);
  return results;
}

const Home2 = async () => {
  const sonuclar = await sorgulamalariBaslat();

  // En yakın bitiş tarihli ikamet özetini döner
  const getEnYakinIkamet = (ikametOzetList) => {
    if (!Array.isArray(ikametOzetList) || ikametOzetList.length === 0)
      return null;

    return ikametOzetList.reduce((closest, current) => {
      if (!closest) return current;

      const currentDate = current.bitisTarihi
        ? parse(current.bitisTarihi, "dd/MM/yyyy", new Date())
        : null;

      const closestDate = closest.bitisTarihi
        ? parse(closest.bitisTarihi, "dd/MM/yyyy", new Date())
        : null;

      const currentValid = currentDate && isValid(currentDate);
      const closestValid = closestDate && isValid(closestDate);

      if (!currentValid) return closest;
      if (!closestValid) return current;

      return currentDate < closestDate ? current : closest;
    }, null);
  };

  return (
    <div className="flex flex-col">
      <Table>
        <TableHeader>
          <TableRow>
            <TableHead>YKN</TableHead>
            <TableHead>YABANCI ADI</TableHead>
            <TableHead>YABANCI SOYADI</TableHead>
            <TableHead>DOĞUM TARİHİ</TableHead>
            <TableHead>ADRES</TableHead>
            <TableHead>AKTİF İZİN TÜRÜ</TableHead>
            <TableHead>İKAMET BİTİŞ TARİHİ (EN YAKIN)</TableHead>
          </TableRow>
        </TableHeader>
        <TableBody>
          {sonuclar.map(([numara, data], index) => {
            if (data.error) {
              return (
                <TableRow key={index}>
                  <TableCell>{numara}</TableCell>
                  <TableCell colSpan={6}>Hata: {data.message}</TableCell>
                </TableRow>
              );
            }

            const kisi = data.kisi || {};
            const ikametIzniList = Array.isArray(data.ikametIzniBilgileriList)
              ? data.ikametIzniBilgileriList
              : [];
            const enYakinIkamet = getEnYakinIkamet(ikametIzniList);

            // aktifIzinTur bazen string bazen obje olabilir, ona göre gösterelim
            let aktifIzinAciklama = "Veri Yok";
            if (kisi.aktifIzinTur) {
              if (typeof kisi.aktifIzinTur === "string") {
                aktifIzinAciklama = kisi.aktifIzinTur;
              } else if (kisi.aktifIzinTur.aciklama) {
                aktifIzinAciklama = kisi.aktifIzinTur.aciklama;
              }
            } else if (enYakinIkamet) {
              aktifIzinAciklama = enYakinIkamet.ikametTur || "Veri Yok";
            }

            const parsedDate = enYakinIkamet?.bitisTarihi
              ? parse(enYakinIkamet.bitisTarihi, "dd/MM/yyyy", new Date())
              : null;

            return (
              <TableRow key={index}>
                <TableCell>{kisi.yabanciKimlikNo || "Veri Yok"}</TableCell>
                <TableCell>{kisi.ad || "Veri Yok"}</TableCell>
                <TableCell>{kisi.soyad || "Veri Yok"}</TableCell>
                <TableCell>{kisi.dogumTarih || "Veri Yok"}</TableCell>
                <TableCell>
                  {kisi.iletisimAdres?.ikametAcikAdres || "Veri Yok"}
                </TableCell>
                <TableCell>{enYakinIkamet?.ikametTur || "Veri Yok"}</TableCell>
                <TableCell>
                  {parsedDate && isValid(parsedDate)
                    ? format(parsedDate, "dd MM yyyy")
                    : "Veri Yok"}
                </TableCell>
              </TableRow>
            );
          })}
        </TableBody>
      </Table>
    </div>
  );
};

export default Home2;
